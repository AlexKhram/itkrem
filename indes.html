<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<link rel="stylesheet" href="https://code.getmdl.io/1.2.1/material.indigo-pink.min.css">
	<script defer src="https://code.getmdl.io/1.2.1/material.min.js"></script>
</head>
<body>
<style type="text/css">
	img {
  max-width: 100%;
  height: auto;
}
.cards-section {
  max-width: 1280px;
}
</style>
<div class="mdl-layout mdl-js-layout mdl-color--grey-100">
    <main class="mdl-layout__content">
        <div id="contentBody" class="mdl-grid cards-section"></div>
    </main>
</div>
<script>
var xhr = new XMLHttpRequest();
xhr.open('GET', 'https://itkrem-a14ca.firebaseio.com/events.json', true);
xhr.send();
xhr.onreadystatechange = function() {
        if (xhr.readyState == 4 && xhr.status == 200) {
            
            try {
                var data = JSON.parse(xhr.responseText);
                for (var key in data) {
 					var divCard = document.createElement('div');
 					divCard.className = "mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-card mdl-shadow--4dp";
 				// 	var divDate = document.createElement('div');
 				// 	divDate.className = "mdl-card__title";
					// divDate.innerHTML = data[key]['data'];
 					var divTitle = document.createElement('div');
 					divTitle.className = "mdl-card__title";
					divTitle.innerHTML = data[key]['name'];
					var divMedia = document.createElement('div');
					divMedia.className = "mdl-card__media";
					var img = document.createElement("IMG");
					img.src = data[key]['image'];
					var divDesc = document.createElement('div');
					divDesc.className = "mdl-card__supporting-text";
					divDesc.innerHTML = data[key]['desc'].substring(0,150);
					// var divAction = document.createElement('div');
					// divAction.className = "mdl-card__actions mdl-card--border";
					// divAction.innerHTML = data[key]['data'];
					divMedia.appendChild(img);
					divCard.appendChild(divMedia);
					// divCard.appendChild(divDate);
					divCard.appendChild(divTitle);
					divCard.appendChild(divDesc);
					// divCard.innerHTML = "<button class=\"mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon\" id=\"btn-high-1\"><i class=\"material-icons\">more_vert</i></button>";
					// divCard.appendChild(divAction);
					contentBody.appendChild(divCard);
				}
                console.dir(data);
            } catch(err) {
                console.log(err.message + " in " + xhr.responseText);
                return;
            }   
    };
}
</script>


</html>